[

%%
%% logger config
{lager, [
   {handlers, [
      {lager_console_backend, [notice, {lager_default_formatter, [time, " [",severity,"] ", message, "\n"]}]}
     ,{lager_file_backend,    [{file, "log/access.log"}, {level, none}, {formatter, lager_default_formatter},{formatter_config, [date, " ", time, " ", message, "\n"]}]}
   ]},
   {traces, [
      {{lager_file_backend, "log/access.log"}, [{module, knet_http}], notice}
   ]}
]},

%%
%% rest api
{restd, [
   {default, [
      {port,  "http://*:8080"},
      {pool, 10},
      {route, [
         {"/token",       oauth2_restapi_token}
        ,{"/introspect",  oauth2_restapi_introspect}
      ]}
   ]}
]},

%%
%%
{permit, [
   {backend, oauth2_ddb_pubkey}
]},

%%
%%
{oauth2, [
   {ddb, "http://localhost:8000/oauth2pubkey"}
]}

].